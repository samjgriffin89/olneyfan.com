<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Sam J Griffin | Sitecore Queries for Beginners</title>
    <meta name="description" content="I am Sam Griffin, a full stack developer currently working at Cardfree,building out RESTful services that supports our mobile apps and customer portal.  For the most part I am working in .NET using Web API, but am becoming more immersed in RoR and grails.
" >
    <meta name="google-site-verification" content="cT3CHL7PrHfUex3GIuLkyjnk-deuZyedUYGqJGOKGEc" />

    <link rel="stylesheet" href="/css/main.css">
    <link rel="alternate" type="application/rss+xml" title="Your awesome title" href="/feed.xml">
  </head>
  <body>
    <div id="wrapper" class="wrapper">
      
      <header class="header">
  <hgroup>
  <h1>
  <a href="/">Sam J Griffin</a>
  </h1>
  <h2>
  <a href="/">Full Stack Developer</a>
  </h2>
  </hgroup>
  <nav id="primaryNav" class="navigation">
    <ul>
      <li>
        <a href="/travel">Travel</a>
      </li>
      <li>
        <a href="/dev-posts">Tech & Coding</a>
      </li>
      <li>
        <a href="https://github.com/samjgriffin89">Projects</a>
      </li>
      <li>
        <a href="https://gist.github.com/samjgriffin89">Code Snippets</a>
      </li>
    </ul>
  </nav>
</header>

      <section class="main-content">
      	<section class="post-wrapper">
	<article class="post">
		<hgroup>
			<div class="post-title">
				<h3>Sitecore Queries for Beginners</h3>
				
			</div>
			<h5>April 28, 2012</h5>
		</hgroup>
		<p>
		<p>Hi everyone. So I’m here to talk a bit about Sitecore queries, filtering, and best practices. Let’s assume that we have a basic tree that looks something like this:</p>

<p class="center">
   <img src="/images/blog/sample-tree.png" alt="sample tree" title="Sample Tree" />
</p>

<p>So let’s review first how to query an item in the Sitecore tree. All you will be doing is querying the path of the item. For example, let’s get the Blizzard video game item:</p>

<figure class="highlight"><pre><code class="language-sitecore" data-lang="sitecore">"query:/sitecore/content/Home/Products/Video Games/Blizzard"</code></pre></figure>

<p>That’s it, very easy. Now if you wanted to get all of the video game items you can get the children of an item like this:</p>

<figure class="highlight"><pre><code class="language-sitecore" data-lang="sitecore">"query:/sitecore/content/Home/Products/Video Games/*"</code></pre></figure>

<p>The /* means to get all the children of the target item. Additionally we can get all of the descendants of the item by doing //*, however, this will be a significantly slower query and should be avoided if possible. Now you must be thinking, if I can get all the children, and even the descendants, there must be a way I can filter through all of the data. Well there is. There are two ways to filter items when using a Sitecore query: by attribute and by field.</p>

<p>Let’s talk about how to filter by attribute first. There are a number of attributes that you can filter items by. Here is a list of some that might help you out:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">  @@name
  @@key
  @@id
  @@templateid
  @@tempaltename
  @@templatekey
  @@masterid
  @@parentid</code></pre></figure>

<p>So you’re probably wondering what that @@ is on the front. That tells the Sitecore query that you will be filtering by an attribute. So how does this query actually look? Here is what a basic query filtering by attribute could look like (using our example tree from above):</p>

<figure class="highlight"><pre><code class="language-sitecore" data-lang="sitecore">"query:/sitecore/content/Home/Products/Video Games/*[@@name == 'Blizzard']</code></pre></figure>

<p>Pretty simple. If you want more complex filtering, you can add in AND or OR statements to include or exclude items in the tree. Now that we understand filtering by attribute, let’s talk about filtering by field.</p>

<p>If you thought filtering by attribute was easy, then you will like filtering by field because it is the same idea. Instead of filtering by the attribute, we will be using the fields of the particular item. So let’s say our product template has a field, price. So we want to filter for items that have the price of $10. We would use the price field, @price, like so:</p>

<figure class="highlight"><pre><code class="language-sitecore" data-lang="sitecore">"query:/sitecore/content/Home/Products/Video Games/*[@price == '10']</code></pre></figure>

<p>This will search all the items under the video game node and find all the items with the price field set to 10. Now this is pretty precious, so if we want to be more general with our search, we can use wildcard filtering on item fields like so:</p>

<figure class="highlight"><pre><code class="language-sitecore" data-lang="sitecore">"query:/sitecore/content/Home/Products/Video Games/*[@title == '%basketball%']</code></pre></figure>

<p>By surrounding the keyword, basketball, with % signs, we are telling Sitecore to find all the items under the video game node with the title field containing the word basketball.</p>

<p>So that’s all about querying for now. Before I leave you, here are some best practices to use when implementing Sitecore queries:</p>

<h2 id="query-approach">Query Approach</h2>

<figure class="highlight"><pre><code class="language-text" data-lang="text">Sitecore Query: 100 Items or less
Fast Query: 1000 Items or less
Lucene Search: 1000+ Items</code></pre></figure>

<p>Now I know we haven’t covered fast queries or Lucene search. That will have to wait until next time.Until then, I hope this was helpful, and stay tuned for more beginner tips as well as more advanced topics.</p>

		</p>	
		<p>
			<strong>Tags:</strong>
			Sitecore
		</p>
		<a href="/posts">Back to Posts</a>
	</article>
	<div class="sidebar">
	<!-- <h4>Search</h4>
	<div class="posts-search">
		<input type="text" placeholder="Search Posts" />
		<button class="btn primary-btn">Submit</button>
		
		<a class="clear-results" href="/posts">Clear Results</a>
	</div> -->
	<h4>About the Author</h4>
	<div class="about--side">
		<p>I am a senior .NET engineer currently working at <a href="http://www.cardfree.com">CARDFREE</a> building out RESTful services to supports our mobile and web apps. My focus currently is around scalability, security, and ensuring our solutions are maintainable.</p>

<p>Originally from Boston, but have been living in Denver for several years now. In my spare time I try to keep pace with my energentic golden, hike and ski, and occassionally post something interesting.</p>
	</div>
</div>
</section>
      </section>
    </div>

    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-24433484-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>